<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìš”ì½”í•˜ë§ˆ ì—¬í–‰ ì§€ë„ | Yokohama Travel</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary: #5aa897;
  --primary-dark: #4a8a7f;
  --accent: #f3b35f;
  --bg: #f9faf9;
  --text: #333;
  --card: rgba(255,255,255,0.96);
  --shadow: 0 4px 15px rgba(0,0,0,0.15);
}

body {
  margin: 0;
  font-family: 'Noto Sans KR', sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
.navbar {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 70px;
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(10px);
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 60px;
  z-index: 2000;
}
.navbar h1 {
  color: var(--primary);
  font-size: 22px;
  margin: 0;
  cursor: pointer;
  font-weight: 700;
}
.nav-center {
  display: flex;
  gap: 35px;
  align-items: center;
}
.nav-center a {
  color: var(--text);
  text-decoration: none;
  font-weight: 600;
  font-size: 15px;
  transition: color 0.3s;
}
.nav-center a:hover, .nav-center a.active {
  color: var(--primary);
}

/* ë“œë¡­ë‹¤ìš´ */
.dropdown { position: relative; }
.dropdown-content {
  position: absolute;
  top: 55px;
  left: 0;
  background: white;
  border-radius: 12px;
  box-shadow: var(--shadow);
  width: 180px;
  opacity: 0;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: opacity 0.25s ease-in-out;
}
.dropdown-content.show {
  opacity: 1;
  pointer-events: auto;
}
.dropdown-content a {
  padding: 12px 16px;
  color: var(--text);
  font-weight: 500;
  border-bottom: 1px solid #eee;
}
.dropdown-content a:hover {
  background-color: rgba(90,168,151,0.08);
  color: var(--primary);
}

/* ê²€ìƒ‰ì°½ */
.search-box {
  position: relative;
}
.search-box input {
  padding: 8px 35px 8px 12px;
  border: 1.5px solid #ccc;
  border-radius: 20px;
  outline: none;
  width: 200px;
  background: rgba(255,255,255,0.8);
  transition: all 0.3s;
}
.search-box input:focus {
  width: 260px;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(90,168,151,0.1);
}
.search-icon {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--primary);
}

/* ê²€ìƒ‰ ì œì•ˆ */
.suggestions {
  position: absolute;
  top: 40px;
  left: 0;
  width: 100%;
  background: white;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  overflow: hidden;
  display: none;
  z-index: 3000;
}
.suggestions div {
  padding: 8px 12px;
  cursor: pointer;
  font-size: 14px;
}
.suggestions div:hover {
  background-color: #f0f5f3;
  color: var(--primary);
}

/* ì§€ë„ */
#map {
  height: calc(100vh - 70px);
  width: 100%;
  margin-top: 70px;
}

/* ì˜¤ë¥¸ìª½ í•˜ë‹¨ ë²„íŠ¼ */
.location-buttons {
  position: absolute;
  bottom: 30px;
  right: 25px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 3000;
}
.location-buttons button {
  background: var(--card);
  border: 2px solid var(--primary);
  color: var(--primary);
  font-weight: 600;
  padding: 8px 14px;
  border-radius: 14px;
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: all 0.25s;
}
.location-buttons button:hover {
  background: var(--primary);
  color: white;
  transform: translateY(-2px);
}

/* íŒì—… */
.leaflet-popup-content-wrapper {
  border-radius: 12px;
  box-shadow: var(--shadow);
  background: var(--card);
}
.map-popup {
  padding: 10px;
}
.map-popup h3 {
  margin: 0 0 6px 0;
  color: var(--primary-dark);
  font-size: 16px;
  font-weight: 700;
}
.map-popup p {
  margin: 0 0 10px 0;
  font-size: 14px;
  color: #555;
}
.map-popup button {
  background: var(--primary);
  color: white;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  margin-right: 6px;
  transition: background 0.25s;
}
.map-popup button.secondary {
  background: #eee;
  color: #444;
}
.map-popup button:hover {
  background: var(--primary-dark);
}
.map-popup button.secondary:hover {
  background: #ddd;
}

/* ë§ˆì»¤ */
.marker-pin {
  width: 44px;
  height: 44px;
  background: var(--accent);
  border: 4px solid white;
  border-radius: 50% 50% 50% 0;
  transform: rotate(-45deg);
  box-shadow: 0 3px 12px rgba(0,0,0,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
}
.marker-pin span {
  transform: rotate(45deg);
  font-size: 20px;
}
</style>
</head>
<body>

<nav class="navbar">
  <h1 onclick="window.location.href='yokohama.html'">Yokohama Travel</h1>
  <div class="nav-center">
    <a href="yokohama.html">í™ˆ</a>
    <div class="dropdown">
      <a href="#" id="introBtn">ìš”ì½”í•˜ë§ˆì†Œê°œ â–¾</a>
      <div class="dropdown-content" id="introMenu">
        <a href="yokohama_overview.html">ë„ì‹œ ê°œìš”</a>
        <a href="yokohama_culture.html">ë¬¸í™”ì™€ ì—­ì‚¬</a>
        <a href="yokohama_port.html">í•­êµ¬ì™€ ê´€ê´‘</a>
      </div>
    </div>
    <a href="#map" class="active">ì§€ë„ë³´ê¸°</a>
  </div>
  <div class="search-box">
    <input type="text" id="searchInput" placeholder="ìš”ì½”í•˜ë§ˆ ì—¬í–‰ì§€ ê²€ìƒ‰...">
    <span class="search-icon">ğŸ”</span>
    <div class="suggestions" id="suggestions"></div>
  </div>
</nav>

<div id="map"></div>

<!-- ì˜¤ë¥¸ìª½ í•˜ë‹¨ ë²„íŠ¼ -->
<div class="location-buttons">
  <button onclick="focusLocation('landmark')">ëœë“œë§ˆí¬ íƒ€ì›Œ</button>
  <button onclick="focusLocation('redbrick')">ë ˆë“œë¸Œë¦­ ì°½ê³ </button>
  <button onclick="focusLocation('cosmoworld')">ì½”ìŠ¤ëª¨ì›”ë“œ</button>
  <button onclick="resetView()">ì „ì²´ ë³´ê¸°</button>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// ì§€ë„ ìƒì„±
const map = L.map('map', { center: [35.4540, 139.6368], zoom: 13 });
L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png', {
  maxZoom: 19,
  minZoom: 10,
  attribution: '&copy; OpenStreetMap & CARTO'
}).addTo(map);

// ëª…ì†Œ ë°ì´í„°
const locations = {
  landmark: {
    name: 'ìš”ì½”í•˜ë§ˆ ëœë“œë§ˆí¬ íƒ€ì›Œ',
    coords: [35.4540, 139.6314],
    icon: 'ğŸ™ï¸',
    desc: 'ë¯¸ë‚˜í† ë¯¸ë¼ì´ 21 ì§€êµ¬ì˜ ìƒì§•ì ì¸ ì´ˆê³ ì¸µ íƒ€ì›Œë¡œ, ì „ë§ëŒ€ ìŠ¤ì¹´ì´ ê°€ë“ ì—ì„œ ìš”ì½”í•˜ë§ˆ ì „ê²½ì„ ê°ìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
    link: 'landmark.html'
  },
  redbrick: {
    name: 'ìš”ì½”í•˜ë§ˆ ë ˆë“œë¸Œë¦­ ì°½ê³ ',
    coords: [35.4523, 139.6420],
    icon: 'ğŸ›ï¸',
    desc: 'ì˜› í•­êµ¬ ì°½ê³ ë¥¼ ê°œì¡°í•œ ë³µí•© ë¬¸í™” ê³µê°„ìœ¼ë¡œ, ì¹´í˜ì™€ ìƒì , ì „ì‹œê°€ ì–´ìš°ëŸ¬ì§„ ì¸ê¸° ëª…ì†Œì…ë‹ˆë‹¤.',
    link: 'redbrick.html'
  },
  cosmoworld: {
    name: 'ìš”ì½”í•˜ë§ˆ ì½”ìŠ¤ëª¨ì›”ë“œ',
    coords: [35.4547, 139.6368],
    icon: 'ğŸ¡',
    desc: 'ëŒ€ê´€ëŒì°¨ ì½”ìŠ¤ëª¨ í´ë½ 21ë¡œ ìœ ëª…í•œ ë„ì‹¬ ì† ë†€ì´ê³µì›ì…ë‹ˆë‹¤.',
    link: 'cosmoworld.html'
  }
};

// ë§ˆì»¤ ìƒì„±
const markers = {};
Object.keys(locations).forEach(id => {
  const loc = locations[id];
  const icon = L.divIcon({
    className: 'custom-marker',
    html: `<div class="marker-pin"><span>${loc.icon}</span></div>`,
    iconSize: [44, 44],
    iconAnchor: [22, 44]
  });
  const marker = L.marker(loc.coords, { icon }).addTo(map);
  marker.bindPopup(`
    <div class="map-popup">
      <h3>${loc.name}</h3>
      <p>${loc.desc}</p>
      <button onclick="openDetail('${loc.link}')">ìƒì„¸ í˜ì´ì§€</button>
      <button class="secondary" onclick="openDirections(${loc.coords[0]},${loc.coords[1]})">ê¸¸ì°¾ê¸°</button>
    </div>
  `);
  markers[id] = marker;
});

// ëª…ì†Œ ì´ë™
function focusLocation(id) {
  const marker = markers[id];
  if (!marker) return;
  const target = marker.getLatLng();
  map.flyTo(target, 15, { animate: true, duration: 1.0 });
  marker.openPopup();
}

// ìƒì„¸ í˜ì´ì§€
function openDetail(link) { window.location.href = link; }

// ê¸¸ì°¾ê¸° (êµ¬ê¸€ì§€ë„)
function openDirections(lat, lng) {
  window.open(`https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}`, '_blank');
}

// ì „ì²´ ë³´ê¸°
function resetView() {
  map.flyTo([35.4540, 139.6368], 13, { animate: true, duration: 1.0 });
}

// ë“œë¡­ë‹¤ìš´
const introBtn = document.getElementById('introBtn');
const introMenu = document.getElementById('introMenu');
introBtn.addEventListener('click', e => {
  e.preventDefault();
  introMenu.classList.toggle('show');
});
document.addEventListener('click', e => {
  if (!introBtn.contains(e.target) && !introMenu.contains(e.target)) introMenu.classList.remove('show');
});

// ê²€ìƒ‰ ìë™ì™„ì„±
const searchInput = document.getElementById('searchInput');
const suggestions = document.getElementById('suggestions');
const placeList = [
  { name: 'ìš”ì½”í•˜ë§ˆ ëœë“œë§ˆí¬ íƒ€ì›Œ', id: 'landmark' },
  { name: 'ìš”ì½”í•˜ë§ˆ ë ˆë“œë¸Œë¦­ ì°½ê³ ', id: 'redbrick' },
  { name: 'ìš”ì½”í•˜ë§ˆ ì½”ìŠ¤ëª¨ì›”ë“œ', id: 'cosmoworld' }
];

searchInput.addEventListener('input', () => {
  const v = searchInput.value.trim();
  suggestions.innerHTML = '';
  if (v === '') return (suggestions.style.display = 'none');
  const filtered = placeList.filter(p => p.name.includes(v));
  if (filtered.length === 0) {
    const div = document.createElement('div');
    div.textContent = 'ê²€ìƒ‰ê²°ê³¼ ì—†ìŒ';
    div.style.color = '#999';
    div.style.textAlign = 'center';
    suggestions.appendChild(div);
  } else {
    filtered.forEach(p => {
      const div = document.createElement('div');
      div.textContent = p.name;
      div.onclick = () => {
        focusLocation(p.id);
        suggestions.style.display = 'none';
        searchInput.value = '';
      };
      suggestions.appendChild(div);
    });
  }
  suggestions.style.display = 'block';
});
document.addEventListener('click', e => {
  if (!searchInput.contains(e.target) && !suggestions.contains(e.target)) suggestions.style.display = 'none';
});
</script>

</body>
</html>
